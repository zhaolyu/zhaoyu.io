---
globs: **/*.js,**/*.ts,**/*.svelte
---

# Coding Conventions

## ESLint Configuration

- Base: Project-specific config (or SvelteKit recommended config)
- Parser: TypeScript for `.ts` files, Svelte for `.svelte` files
- Key rules: no-console (error), semicolons required

## Prettier

- Print width: 100 characters
- Single quotes for JavaScript/TypeScript
- Trailing commas: all
- Configuration: Project-specific Prettier config (if present)

## Naming Conventions

- **Components**: PascalCase (`Welcome`, `Layout`, `ProjectCard`)
- **Functions/Variables**: camelCase (`fetchData`, `userName`)
- **Constants**: UPPER_SNAKE_CASE (`API_BASE_URL`)
- **Files**: 
  - Svelte components: PascalCase (e.g., `Welcome.svelte`)
  - Utilities: camelCase (e.g., `formatDate.ts`)

## Imports

Use SvelteKit's `$lib` alias for lib imports (recommended):

```typescript
import { formatDate } from '$lib/utils/date';
import { theme } from '$lib/stores/theme';
import Button from '$lib/components/Button.svelte';
```

Import order: Svelte imports → Third-party → Application imports (`$lib`) → Relative imports → Styles

## Component Structure

Svelte components use `$props()` for props (Svelte 5 syntax):

```svelte
<script lang="ts">
	interface Props {
		title: string;
		count?: number;
	}
	let { title, count = 0 }: Props = $props();
</script>
```

Use `$state()` for reactive state. Always define TypeScript interfaces for component props.

## Code Style

- 2 spaces indentation (tabs converted to spaces)
- Single quotes for strings
- Always use semicolons
- Always use braces for if/for/while

## Font Usage

**MANDATORY: All components MUST use the Geist font family.**

- **Sans-serif text**: Use `var(--font-sans)` or Tailwind class `font-sans` (default: Geist Sans)
- **Monospace text**: Use `var(--font-mono)` or Tailwind class `font-mono` (default: Geist Mono)
- **Never hardcode fonts** - Always use CSS variables or Tailwind classes
- Fonts are globally configured in `app.css` and available via CSS variables

### Font Variables

- `--font-sans`: "Geist Sans", system-ui, -apple-system, sans-serif
- `--font-mono`: "Geist Mono", "Courier New", monospace

### Examples

```css
/* ✅ DO: Use CSS variables */
.my-text {
	font-family: var(--font-sans);
}

.code-block {
	font-family: var(--font-mono);
}

/* ❌ DON'T: Hardcode fonts */
.bad-example {
	font-family: Arial, sans-serif;
}
```

## Theme Support Requirement

**MANDATORY: All components MUST support both light and dark modes. This is MANDATORY for ALL code generation.**

### Critical Rules

- ✅ **ALWAYS use CSS variables** - Never hardcode colors like `bg-white`, `text-black`, `dark:bg-neutral-950`, `dark:text-white`
- ✅ **Use CSS variables from `app.css`**: `--bg-primary`, `--text-primary`, `--text-secondary`, `--text-muted`, `--border-color`, `--bg-secondary`
- ✅ **Always add transitions**: `transition: background-color 0.2s, color 0.2s, border-color 0.2s`
- ✅ **Use `:global(.dark)` for theme-specific overrides** only when absolutely necessary
- ❌ **NEVER hardcode colors** - Always use CSS variables for backgrounds, text, and borders
- ❌ **NEVER use Tailwind color classes** like `bg-white dark:bg-neutral-950` - Use CSS variables instead

### Example (CORRECT)

```svelte
<style>
	.card {
		background: var(--bg-primary);
		color: var(--text-primary);
		border: 1px solid var(--border-color);
		transition: background-color 0.2s, color 0.2s, border-color 0.2s;
	}
</style>
```

### Anti-Pattern (INCORRECT)

```svelte
<!-- ❌ DO NOT DO THIS -->
<div class="bg-white dark:bg-neutral-950 text-black dark:text-white">
	Content
</div>
```

See [.cursor/rules/component-patterns.mdc](mdc:.cursor/rules/component-patterns.mdc) for quick reference and [.cursor/docs/PATTERNS.md](mdc:.cursor/docs/PATTERNS.md) for comprehensive examples.

## Comments and Documentation

**Minimize inline comments** - Write self-documenting code. Only add comments when code intent is genuinely unclear.

**Use JSDoc/TSDoc** for exported functions and components:

```typescript
/**
 * Formats a date according to the specified pattern.
 * @param date - The date to format
 * @returns Formatted date string
 */
```

**Avoid**: Redundant comments, commented-out code, excessive inline explanations.

**Prefer**: Clear naming, JSDoc/TSDoc for public APIs, brief comments only for complex logic.

See [.cursor/docs/CODING_CONVENTIONS.md](mdc:.cursor/docs/CODING_CONVENTIONS.md) for complete coding conventions and examples.
