---
globs: **/components/**/*.astro,**/components/**/*.tsx,**/components/**/*.jsx
---

# Component Patterns

## Component Types

### Astro Components (`.astro`)

Astro components are the primary component type for static content and server-side rendering:

```astro
---
// Component script
interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
---

<article class="card">
  <h2>{title}</h2>
  {description && <p>{description}</p>}
</article>

<style>
  .card {
    padding: 1rem;
    border: 1px solid #ccc;
  }
</style>
```

### React Components (`.tsx`/`.jsx`)

Use React components for client-side interactivity. Mark with `client:*` directive in Astro:

```astro
---
import InteractiveButton from '../components/InteractiveButton';
---

<InteractiveButton client:load />
```

```tsx
// InteractiveButton.tsx
'use client';

import { useState } from 'react';

const InteractiveButton = () => {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      Clicked {count} times
    </button>
  );
};

export default InteractiveButton;
```

## Component Structure

### Astro Components

Each Astro component should be self-contained:
- Component logic in frontmatter (`---`)
- Template in HTML-like syntax
- Styles in `<style>` tag (scoped by default)

### React Components

For React components used in Astro:
- Use TypeScript for type safety
- Keep components focused and reusable
- Use CSS modules or Tailwind classes for styling

## Component Location

- **Reusable components**: `src/components/`
- **Page-specific components**: Co-locate with pages or in `src/components/`
- **Layouts**: `src/layouts/`
- **Pages**: `src/pages/` (file-based routing)

## Best Practices

1. **Use Astro for static content** - Leverage Astro's zero-JS by default
2. **Use React for interactivity** - Only add React when you need client-side interactivity
3. **Progressive enhancement** - Start with Astro, add React only where needed
4. **Component composition** - Compose smaller components into larger ones
5. **Props interface** - Always define TypeScript interfaces for component props

## Using Context (React Components)

For React components that need shared state:

```tsx
import { createContext, useContext } from 'react';

const DataContext = createContext();

export const useData = () => {
  const context = useContext(DataContext);
  if (!context) {
    throw new Error('useData must be used within DataProvider');
  }
  return context;
};
```

See [.cursor/docs/PATTERNS.md](mdc:.cursor/docs/PATTERNS.md) and [.cursor/docs/FILE_ORGANIZATION.md](mdc:.cursor/docs/FILE_ORGANIZATION.md) for complete component patterns.
