---
globs: **/components/**/*.svelte,**/routes/**/*.svelte
---

# Component Patterns

## Component Structure

Svelte components use `$props()` for props (Svelte 5 syntax):

```svelte
<script lang="ts">
	interface Props {
		title: string;
		description?: string;
	}
	let { title, description }: Props = $props();
</script>
```

Use `$state()` for reactive state. Each component should be self-contained with logic in `<script>`, template in HTML, and styles in `<style>` (scoped by default).

## Component Organization

- **Reusable components**: `src/lib/components/`
- **Page components**: `src/routes/*/+page.svelte`
- **Layout components**: `src/routes/+layout.svelte`
- **Route-specific components**: Co-locate with routes or in `src/lib/components/`

## Theme Support (Light & Dark Mode)

**MANDATORY: All components MUST support both light and dark modes.**

### Quick Reference

- Use CSS variables from `app.css`: `--bg-primary`, `--text-primary`, `--border-color`, etc.
- Add transitions: `transition: background-color 0.2s, color 0.2s`
- Use `:global(.dark)` for theme-specific overrides when needed
- Avoid hardcoded colors - prefer CSS variables

### Example

```svelte
<style>
	.card {
		background: var(--bg-primary);
		color: var(--text-primary);
		border: 1px solid var(--border-color);
		transition: background-color 0.2s, color 0.2s, border-color 0.2s;
	}

	:global(.dark) .card {
		/* Theme-specific overrides if needed */
	}
</style>
```

See [.cursor/docs/PATTERNS.md](mdc:.cursor/docs/PATTERNS.md) for comprehensive theme support examples and all available CSS variables.

## Best Practices

1. **Use Svelte reactivity** - Leverage reactive statements and stores
2. **Component composition** - Compose smaller components into larger ones
3. **Props interface** - Always define TypeScript interfaces for component props
4. **Scoped styles** - Use component-scoped styles by default
5. **Reactive statements** - Use `$:` for derived state
6. **Theme support** - Always support both light and dark modes using CSS variables

## Using Stores

For shared state, use Svelte stores with auto-subscription:

```svelte
<script lang="ts">
	import { theme } from '$lib/stores/theme';
	$: isDark = $theme === 'dark';
</script>
```

See [.cursor/rules/store-patterns.mdc](mdc:.cursor/rules/store-patterns.mdc) for store patterns.

## Related Rules

- [Route Patterns](.cursor/rules/route-patterns.mdc) - Patterns for route components
- [Store Patterns](.cursor/rules/store-patterns.mdc) - Using stores in components

See [.cursor/docs/PATTERNS.md](mdc:.cursor/docs/PATTERNS.md) for complete component examples.
